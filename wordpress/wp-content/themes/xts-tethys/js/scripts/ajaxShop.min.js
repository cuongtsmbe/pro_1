!function(a){XTSThemeModule.$document.on("xtsPjaxComplete",function(){XTSThemeModule.ajaxSortByWidget()}),XTSThemeModule.ajaxShop=function(){var o,e;"no"!==xts_settings.ajaxShop&&void 0!==a.fn.pjax&&(o=!1,XTSThemeModule.$body.on("click",".post-type-archive-product .xts-shop-footer .woocommerce-pagination a",function(){e(!0)}),XTSThemeModule.$body.on("click",".xts-shop-content .xts-cats a",function(){e(!0)}),XTSThemeModule.$document.pjax('.xts-widget-filter a, .widget_product_categories:not(.xts-search-area-widget) a, .widget_layered_nav_filters a, .woocommerce-widget-layered-nav a,body.post-type-archive-product:not(.woocommerce-account) .woocommerce-pagination a, body.tax-product_cat:not(.woocommerce-account) .woocommerce-pagination a, body[class*="tax-pa_"] .woocommerce-pagination a, .xts-clear-filters a, .xts-nav-shop-cat a, .xts-products-per-page a, .xts-wc-price-filter a, .xts-wc-sort-by a, .xts-filters-area:not(.xts-with-content) a, .xts-products-per-row a, .woocommerce-widget-layered-nav-list a, .xts-widget-stock-status a, .xts-shop-content .xts-cats a, .woocommerce-ordering.xts-list a',".xts-site-content",{timeout:xts_settings.pjax_timeout,scrollTo:!1}),XTSThemeModule.$document.on("submit",".widget_price_filter form",function(t){return a.pjax.submit(t,{container:".xts-site-content",timeout:xts_settings.pjax_timeout,scrollTo:!1}),!1}),XTSThemeModule.$document.on("submit",".xts-shop-tools .xts-search-form form.xts-opened, .xts-filters-area .xts-ajax-search form, .xts-filters-area .widget_product_search form, .xts-shop-widget-sidebar .xts-ajax-search form, .xts-shop-widget-sidebar .widget_product_search form",function(t){if("product"===a(this).find('input[name="post_type"]').val())return a.pjax.submit(t,{container:".xts-site-content",timeout:xts_settings.pjax_timeout,scrollTo:!1}),!1}),XTSThemeModule.$document.on("pjax:error",function(t,e,o){console.log("pjax error "+o)}),XTSThemeModule.$document.on("pjax:start",function(){a(".xts-ajax-content").removeClass("xts-loaded").addClass("xts-loading"),XTSThemeModule.$document.trigger("xtsPjaxStart"),XTSThemeModule.$window.trigger("scroll.loaderVerticalPosition")}),XTSThemeModule.$document.on("pjax:complete",function(){XTSThemeModule.$window.off("scroll.loaderVerticalPosition");var t=XTSThemeModule.$body;t.hasClass("tax-xts-portfolio-cat")||t.hasClass("post-type-archive-xts-portfolio")||(XTSThemeModule.$document.trigger("xtsPjaxComplete"),XTSThemeModule.$document.trigger("xtsImagesLoaded"),a(function(){"undefined"!=typeof wc_add_to_cart_variation_params&&a(".variations_form").each(function(){a(this).wc_variation_form()})}),e(!1),a(document.body).trigger("wc_fragment_refresh"),a(".xts-ajax-content").removeClass("xts-loading"))}),XTSThemeModule.$document.on("pjax:beforeReplace",function(t,e){e=a('<div class="temp-wrapper"></div>').append(e);a('meta[name="description"]').attr("content",e.find("meta").attr("content")),a(".xts-filters-area").hasClass("xts-opened")&&"yes"===xts_settings.shop_filters_area_stop_close&&(o=!0,XTSThemeModule.$body.addClass("xts-filters-opened"))}),XTSThemeModule.$document.on("pjax:end",function(){a(".xts-site-content").find("meta").remove(),o&&(a(".xts-filters-area").css("display","block"),XTSThemeModule.openFilters(200),o=!1),a(".xts-ajax-content").addClass("xts-loaded")}),e=function(t){"no"===xts_settings.ajax_shop_scroll&&!1===t||(t=a(xts_settings.ajax_shop_scroll_class).offset().top-xts_settings.ajax_shop_scroll_offset,a("html, body").stop().animate({scrollTop:t},400))})},XTSThemeModule.ajaxSortByWidget=function(){var t;void 0!==a.fn.pjax&&((t=a(".woocommerce-ordering")).on("change","select.orderby",function(){var t=a(this).closest("form");t.find('[name="_pjax"]').remove(),a.pjax({container:".xts-site-content",timeout:xts_settings.pjax_timeout,url:"?"+t.serialize(),scrollTo:!1})}),t.on("submit",function(t){t.preventDefault(t)}))},a(document).ready(function(){XTSThemeModule.ajaxShop(),XTSThemeModule.ajaxSortByWidget()})}(jQuery);